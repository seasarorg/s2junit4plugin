<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="Content-Language" content="ja" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="keywords" content="s2junit4plugin, Seasar, The Seasar Project, The Seasar Foundation, OSS, Open Source Software, Java, Framework" />
<meta name="description" content="s2junit4plugin" />
<title>s2junit4plugin</title>
<link rel="stylesheet" type="text/css" href="http://www.seasar.org/theme/main.css" media="screen,projection" />
<link rel="stylesheet" type="text/css" href="http://www.seasar.org/theme/print.css" media="print" />
</head>

<body>

<div id="wrapper">

<div id="header">

<div class="line"><span class="hide">spacer</span></div>

<div id="logo"><h2 id="h01" class="hide">The Seasar Foundation Project Site</h2><img src="http://www.seasar.org/images/seasar_logo_blue.gif" alt="The Seasar Project" width="390" height="180" /></div>

<div id="tool">

<h2><a href="http://search.seasar.org/">Site Search</a></h2>

<form id="search" name="search" action="http://search.seasar.org/">
<div>
	<input id="search_phrase" type="text" name="phrase" size="20" />
	<input type="hidden" name="perpage" value="30" />
	<input type="hidden" name="enc" value="UTF-8" />
	<input id="search_go" type="submit" value="Search" />
</div>
</form>

<h2>Seasar Banner</h2>

<p><a href="http://www.seasar.org/images/seasar_banner.gif"><img src="http://www.seasar.org/images/seasar_banner.gif" alt="Seasar Banner" title="Seasar Banner" width="146" height="33" /></a></p>

</div>

</div><!-- header -->


<div id="contents_left">

<h2>Menu</h2>

<ul>
	<li><a href="#Abstract">概要</a></li>
	<li><a href="#Setup">セットアップ</a>
	<li><a href="#Usage">使い方</a></li>
	<li><a href="#maillist">メーリングリスト</a></li>
	<li><a href="#tracking">トラッキング</a></li>
	<li><a href="#subversion">Subversionリポジトリ</a></li>
	<li><a href="#site">参考サイト</a></li>
</ul>

</div><!-- contents_left -->

<div id="contents_center">

<div id="article">

<div class="section">

<h2>Welcome to the "s2junit4plugin" project.</h2>

<h3><a name="Abstract">概要</a></h3>

<p>
S2JUnit4Pluginは<a href="http://s2container.seasar.org/2.4/ja/S2JUnit4.html">S2JUnit4</a>,<a href="http://s2container.seasar.org/2.4/ja/S2Unit.html">S2Unit</a>でのテストを支援するEclipseプラグインです。
<a href="http://trac.assembla.com/quick-junit/">Quick Junitプラグイン</a>をベースに開発されており使い方はほぼ同じですが、キーバインドがかぶるため同居は非推奨です。
</p>

<h3><a name="Setup">セットアップ</a></h3>
<p>Eclipse3.3および3.4,JDK5.0以降で動作します。次の更新サイトから「S2JUnit4Plugin」を選択してインストールしてください。</p>
<ul>
  <li><a href="http://eclipse.seasar.org/updates/3.3/ ">http://eclipse.seasar.org/updates/3.3/ </a></li>
</ul>

<h3><a name="Usage">使い方</a></h3>
<p>S2JUnit4Pluginは<a href="http://www.junit.org/">JUnit</a>の起動およびクラスとテストケースクラスおよびテストケースクラスとテストケースdiconのエディタ切り替えを簡単に行うためのEclipseプラグインです。
テストケースクラスとテストケースdiconのエディタ切り替えはS2JUnit4のみ有効です。diconのエディタとしては<a href="http://kijimuna.seasar.org/">Kijimuna</a>があります。
</p>

<p>Javaファイルから起動する</p>
<img src="images/menu1.png"/>

<p>diconファイルから起動する</p>
<img src="images/menu2.png"/>

<p>S2JUnit4Pluginは次のコマンドからなります。</p>

<table border="1">
  <tr>
    <th>コマンド名</th>
    <th>ショートカットキー</th>
    <th>説明</th>
  </tr>
  <tr>
    <td>テスティングペアを開く</td>
    <td>Ctrl+9</td>
    <td>クラスとテストケースクラスのエディタを切り替える</td>
  </tr>
  <tr>
    <td>Open TestCase Dicon Pair</td>
    <td>Ctrl+Shift+9</td>
    <td>テストケースクラスからテストケースdiconへエディタを切り替える</td>
  </tr>
  <tr>
    <td>Open TestCase Class Pair</td>
    <td>Ctrl+Shift+9</td>
    <td>テストケースdiconからテストケースクラスへエディタを切り替える</td>
  </tr>
  <tr>
    <td>JUnit テスト</td>
    <td>Ctrl+0</td>
    <td>選択項目をJUnitで起動する。メソッド単位でも実行できます。</td>
  </tr>
  <tr>
    <td>JUnit デバッグ</td>
    <td>Ctrl+Shift+0</td>
    <td>選択項目をJUnitでデバッグする</td>
   </tr>
</table>

<p>これらのコマンドは「S2JUnit4」サブメニューから起動することができます。</p>

  <ul>
   <li>Javaエディタがアクティブ時の「編集」―「Quick JUnit」メニュー</li>
   <li>Javaエディタでの「S2JUnit4」ポップアップメニュー</li>
   <li>diconエディタでの「S2JUnit4」ポップアップメニュー</li>
   <li>パッケージエクスプローラでの「S2JUnit4」ポップアップメニュー</li>
   <li>アウトラインビューでの「S2JUnit4」ポップアップメニュー</li>
  </ul>


<ol type="1">
<p>テストケースクラスが存在しない場合はウィザードを使って新規に作成することができます。</p>
  <ol><li value="1">対応するテストケースクラスが存在しない場合は、メッセージボックスがポップアップします。</li></ol>
  <img src="images/dialog.png"/>
  <ol><li value="2">OKをクリックするとウィザードが開きます。</li></ol>
  <img src="images/wizard.png"/>
  <ol><li value="3">Nextをクリックすると次のウィザードが開きます。</li></ol>
  <img src="images/next-wizard.png"/>
</ol>

<p>
上記ウイザードでfindById, findByIdVersion,findAllOrderByIdの３つのメソッドを選択すると生成されるテストケースクラスは以下のようになります。ServiceとDaoに対して生成した場合は自動バインディングフィールドがprivateフィールド宣言されます。
以下の例だとempServiceがそうです。そのほかstatic import宣言、RunWithアノテーションが最初から付加されていますので、すぐにテストを実行して失敗になることを確認できます。
これによりテスト失敗→コード修正→テスト成功のステップがスムーズになります。
</p>

<pre>
package aaa.service;

import static org.seasar.framework.unit.S2Assert.*;

import org.junit.runner.RunWith;
import org.seasar.framework.unit.Seasar2;

@RunWith(Seasar2.class)
public class EmpServiceTest {

	private EmpService empService;

	public void testFindById() {
		fail("Not yet implemented");
	}

	public void testFindByIdVersion() {
		fail("Not yet implemented");
	}

	public void testFindAllOrderById() {
		fail("Not yet implemented");
	}

}
</pre>

<p>S2Unitを選択して生成した場合は以下のようになります。</p>
<pre>
package aaa.service;

import org.seasar.extension.unit.S2TestCase;

public class EmpServiceTest extends S2TestCase {

	public void testFindById() {
		fail("Not yet implemented");
	}

	public void testFindByIdVersion() {
		fail("Not yet implemented");
	}

	public void testFindAllOrderById() {
		fail("Not yet implemented");
	}

}
</pre>

<ol type="1">
<p>テストケースdiconが存在しない場合はウィザードを使って新規に作成することができます。</p>
  <img src="images/dicon-wizard.png"/>
</ol>

<p>
生成されるテストケースdiconは以下のようになります。
</p>

<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE components PUBLIC "-//SEASAR//DTD S2Container 2.4//EN"
	"http://www.seasar.org/dtd/components24.dtd"&gt;
&lt;components&gt;
	
&lt;/components&gt;
</pre>

<p>
なおテストケースdiconをもとにテストケースクラスを生成することはできません。つまりテストケースクラスが無い状態でテストケースdiconファイル上でCtrl+Shift+9しても何も起こりません。
</p>

<p>ウィザードでテストケースクラス、テストケースdiconを生成する場合のデフォルトの保存場所や生成タイプは「ウィンドウ」―「設定」―「S2JUnit4」で
変更することができます。
</p>
  <img src="images/preference1.png"/>

<p>テストケースクラスのネーミングルールも変更することができます。</p>
  <img src="images/preference2.png"/>

<p>変数<code>${package}</code>は実装コードのパッケージ名，<code>${type}</code>は実装コードの（パッケージ名を除いた）クラス名を表します．いくつかネーミングルールの例を書いておきます．</p>

<table border="1">
  <tr>
    <th>ネーミングルール</th>
    <th>実装クラスの例</th>
    <th>テストケース</th>
  </tr>
  <tr>
    <td rowspan="2"><code>${package}.${type}Test</code></td>
    <td><code>com.foo.Foo</code></td>
    <td><code>com.foo.FooTest</code></td>
  </tr>
  <tr>
    <td><code>Foo</code></td>
    <td><code>FooTest</code></td>
   </tr>
    </table>

  <p>好みに合わせてネーミングルールを設定してください．</p>

  <p>ネーミングルールが複数指定されていた場合など，複数のテスティングペアが存在するときがあります．そのときは，次のようなポップアップが表示されますのでそこから選択していただければOKです．</p>

  <blockquote>
   <img src="images/popup.png">
  </blockquote>


<h3><a name="maillist">メーリングリスト</a></h3>
<dl>
  <dt><a href="https://www.seasar.org/mailman/listinfo/seasar-user">seasar-user</a></dt>
    <dd>
      Seasar2および関連プロダクトの利用者のためのメーリングリストです。<br />
      S2JUnit4Pluginを利用していて疑問に思ったことや困ったこと、要望などはこちらへ。<br />
      件名に[S2JUnit4Plugin]を含めていただけると幸いです。またEclipseのエラーログに何か出ている場合はその情報も送っていただけると問題解決がスムーズになります。
    </dd>
  <dt><a href="https://www.seasar.org/mailman/listinfo/seasar-dev">seasar-dev</a></dt>
    <dd>
      Seasar2および関連プロダクト開発者のためのメーリングリストです。
    </dd>
</dl>
<h3><a name="tracking">トラッキング</a></h3>
<dl>
  <dt><a href="https://www.seasar.org/issues/browse/JUNITPLUGIN">JIRA</a></dt>
    <dd>S2JUnit4PluginのバグはJIRAで管理されています。</dd>
</dl>
<h3><a name="subversion">Subversionリポジトリ</a></h3>
<p>S2JUnit4Plugin のソースコードは、seasar.org のSubversionリポジトリで公開されています。<br />
どなたでもアクセスしてソースコードを閲覧することができます。<br />
(以下のリンクをクリックするとWeb経由でもソースコードを閲覧できます)
</p>
<dl>
<dt><b>SVNリポジトリのURL</b></dt><dd><a href="https://www.seasar.org/svn/sandbox/s2junit4plugin/">https://www.seasar.org/svn/sandbox/s2junit4plugin/</a></dd>
</dl>

<h3><a name="site">参考サイト</a></h3>
<p>S2JUnit4Plugin は、以下を中心として仕様検討を進めています。</p>
<ul>
  <li><a href="https://keyaki.tsukuba-bunko.org/projects/s2junit4/trac/">S2JUnit4 Eclipse Plugin 開発作業用 Trac サイト</a></li>
  <li><a href="http://d.hatena.ne.jp/wyukawa/">watawata日記</a></li>
  <li><a href="http://blog.tsukuba-bunko.jp/ppoi/">つくば日記 (仮)</a></li>
</ul>


</div><!-- section -->

</div><!-- article -->

</div><!-- contents_center -->

<div id="footer">
<address>&copy; Copyright The Seasar Foundation and the others 2006, all rights reserved.</address>
<div class="line"><span class="hide">spacer</span></div>
</div><!-- footer -->

</div><!-- wrapper -->

</body>
</html>

